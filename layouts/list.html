{{ define "main" }}

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

<section class="blog-header">
  <div class="container">
    <div class="header-content fade-in-up">
      <h1 class="page-title">BLOG LẬP TRÌNH</h1>
      <div class="header-divider"></div>
      <p class="page-desc">
        Nơi mình chia sẻ kiến thức về <strong>Java Spring Boot</strong>, <strong>Socket</strong> và trải nghiệm trên hành trình trở thành một Backend Developer.
      </p>
      
      <div class="topic-pills">
        <span class="pill">Java</span>
        <span class="pill">Spring Boot</span>
        <span class="pill">Networking</span>
        <span class="pill">SQL Server</span>
      </div>
    </div>
  </div>
</section>

<section class="blog-list-section">
  <div class="container">
    <h2 class="section-label">TẤT CẢ BÀI VIẾT</h2>
    
    <div class="posts-grid">
      {{ range .Paginator.Pages }}
      <a href="{{ .RelPermalink }}" class="blog-card-link fade-in-up">
        <article class="blog-card">
          <div class="card-body">
            
            <div class="card-meta-top">
              {{ if .Params.tags }}
              <span class="tag-badge">{{ index .Params.tags 0 }}</span>
              {{ else }}
              <span class="tag-badge">Note</span>
              {{ end }}
              <time class="post-date">{{ .Date.Format "02/01/2006" }}</time>
            </div>

            <h2 class="post-title">{{ .Title }}</h2>

            <p class="post-summary">
              {{ if .Summary }}
                {{ .Summary | truncate 110 }}
              {{ else }}
                {{ .Content | truncate 110 }}
              {{ end }}
            </p>

            <div class="card-tags">
              {{ range first 3 .Params.tags }}
              <span>#{{ . }}</span>
              {{ end }}
            </div>
          </div>
          
          <div class="card-footer-action">
            Đọc bài viết <span>→</span>
          </div>
        </article>
      </a>
      {{ end }}
    </div>

    <div class="pagination-wrapper fade-in-up">
      {{ if gt .Paginator.TotalPages 1 }}
      <ul class="pagination">
        {{ if .Paginator.HasPrev }}
        <li><a href="{{ .Paginator.Prev.URL }}" class="page-link">←</a></li>
        {{ end }}

        {{ range .Paginator.Pagers }}
        <li class="{{ if eq . $ }}active{{ end }}">
          <a href="{{ .URL }}" class="page-link">{{ .PageNumber }}</a>
        </li>
        {{ end }}

        {{ if .Paginator.HasNext }}
        <li><a href="{{ .Paginator.Next.URL }}" class="page-link">→</a></li>
        {{ end }}
      </ul>
      {{ end }}
    </div>

  </div>
</section>

<style>
  /* --- HỆ THỐNG MÀU ĐỒNG BỘ --- */
  :root {
    --col-navy: #1e293b;
    --col-blue: #2563eb;
    --col-text: #334155;
    --col-light: #f1f5f9;
    --border: #e2e8f0;
    --radius: 8px; /* Bo góc nhẹ giống CV */
  }

  body {
    font-family: 'Inter', sans-serif;
    background-color: #f8fafc;
    color: var(--col-text);
    margin: 0;
    overflow-x: hidden;
  }

  /* KỸ THUẬT BREAKOUT FULL WIDTH */
  .blog-header, .blog-list-section {
    width: 100vw; position: relative; left: 50%; margin-left: -50vw; box-sizing: border-box;
  }

  .container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }

  /* --- HEADER --- */
  .blog-header {
    background: white; padding: 80px 0 60px; text-align: center;
    border-bottom: 1px solid var(--border);
  }
  .page-title { 
    font-size: 2.2rem; color: var(--col-navy); font-weight: 800; 
    margin: 0; letter-spacing: -1px;
  }
  .header-divider {
    width: 50px; height: 4px; background: var(--col-blue);
    margin: 20px auto;
  }
  .page-desc { color: var(--col-text); font-size: 1rem; max-width: 600px; margin: 0 auto 30px; line-height: 1.6; }
  
  .topic-pills { display: flex; justify-content: center; gap: 8px; }
  .pill {
    background: var(--col-light); color: var(--col-navy);
    padding: 5px 15px; border-radius: 4px; font-size: 0.8rem; font-weight: 700;
    text-transform: uppercase;
  }

  /* --- BLOG LIST --- */
  .blog-list-section { padding: 60px 0 100px; }
  .section-label {
    font-size: 1.1rem; font-weight: 700; color: var(--col-navy);
    border-bottom: 2px solid var(--col-navy);
    padding-bottom: 8px; margin-bottom: 40px; display: inline-block;
    text-transform: uppercase;
  }

  .posts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 25px;
  }

  .blog-card {
    background: white; border: 1px solid var(--border); border-radius: var(--radius);
    height: 100%; display: flex; flex-direction: column;
    transition: all 0.3s ease;
  }

  .blog-card-link:hover .blog-card {
    border-color: var(--col-blue);
    box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    transform: translateY(-5px);
  }

  .card-body { padding: 25px; flex-grow: 1; }
  .card-meta-top { display: flex; justify-content: space-between; margin-bottom: 15px; }
  .tag-badge {
    color: var(--col-blue); font-size: 0.75rem; font-weight: 800; text-transform: uppercase;
  }
  .post-date { font-size: 0.8rem; color: #94a3b8; }
  .post-title { 
    font-size: 1.25rem; line-height: 1.4; margin: 0 0 12px; 
    color: var(--col-navy); font-weight: 700;
  }
  .post-summary { font-size: 0.95rem; color: #64748b; margin-bottom: 20px; line-height: 1.6; }
  
  .card-tags { display: flex; gap: 8px; flex-wrap: wrap; }
  .card-tags span { font-size: 0.75rem; color: #94a3b8; font-weight: 500; }

  .card-footer-action {
    padding: 15px 25px; border-top: 1px solid var(--border);
    font-size: 0.85rem; font-weight: 700; color: var(--col-blue);
    text-transform: uppercase; display: flex; align-items: center; gap: 5px;
  }

  /* --- PAGINATION --- */
  .pagination-wrapper { margin-top: 50px; display: flex; justify-content: center; }
  .pagination { display: flex; list-style: none; padding: 0; gap: 8px; }
  .page-link {
    display: flex; align-items: center; justify-content: center;
    width: 40px; height: 40px; border-radius: 4px;
    background: white; color: var(--col-navy); border: 1px solid var(--border);
    font-weight: 700; transition: 0.2s;
  }
  .active .page-link { background: var(--col-navy); color: white; border-color: var(--col-navy); }
  .page-link:hover:not(.active) { border-color: var(--col-blue); color: var(--col-blue); }

  .fade-in-up { animation: fadeInUp 0.5s ease backwards; }
  @keyframes fadeInUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

  @media (max-width: 768px) {
    .page-title { font-size: 1.8rem; }
    .posts-grid { grid-template-columns: 1fr; }
  }
</style>
{{ end }}